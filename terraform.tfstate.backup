{
  "version": 4,
  "terraform_version": "0.12.24",
  "serial": 59,
  "lineage": "0b7cca25-8eb4-7eaf-6afe-8a21f9ca9cfa",
  "outputs": {
    "function_trigger_url": {
      "value": "https://us-central1-exam-prep-285301.cloudfunctions.net/flux-errors",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "archive_file",
      "name": "zip",
      "provider": "provider.archive",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "excludes": null,
            "id": "d381ac2b19fed126acbc7dea164cc638b2cb4485",
            "output_base64sha256": "OqTMwF1ZlCsbwn6rF0puWTrcp5Ao/BnsJTDYSKcjbcA=",
            "output_md5": "550aabf29a14c66ed8f2d22e20f9253c",
            "output_path": "./files/index.zip",
            "output_sha": "d381ac2b19fed126acbc7dea164cc638b2cb4485",
            "output_size": 770,
            "source": [],
            "source_content": null,
            "source_content_filename": null,
            "source_dir": "./function/",
            "source_file": null,
            "type": "zip"
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_cloudfunctions_function",
      "name": "cloud_function",
      "provider": "provider.google",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "available_memory_mb": 128,
            "description": "This is a Cloud Function that integrates Jira and Hangouts Chat",
            "entry_point": "sendToChat",
            "environment_variables": {
              "CHAT_URL": "https://chat.googleapis.com/v1/spaces/AAAA300Y96o/messages?key=AIzaSyDdI0hCZtE6vySjMm-WEfRq3CPzqKqqsHI\u0026token=89VcdqGyK2CdqEFY81QtsQM6IdQO6RM1zNVs4wFkkKk%3D"
            },
            "event_trigger": [],
            "https_trigger_url": "https://us-central1-exam-prep-285301.cloudfunctions.net/flux-errors",
            "id": "exam-prep-285301/us-central1/flux-errors",
            "labels": {},
            "max_instances": 5,
            "name": "flux-errors",
            "project": "exam-prep-285301",
            "region": "us-central1",
            "runtime": "nodejs10",
            "service_account_email": "exam-prep-285301@appspot.gserviceaccount.com",
            "source_archive_bucket": "flux-errors_bu",
            "source_archive_object": "flux-errors/index.zip",
            "source_repository": [],
            "timeout": 60,
            "timeouts": null,
            "trigger_bucket": null,
            "trigger_http": true,
            "trigger_topic": null,
            "vpc_connector": ""
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJyZWFkIjozMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "google_storage_bucket.cf_bucket",
            "google_storage_bucket_object.archive"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_logging_metric",
      "name": "logging_metric",
      "provider": "provider.google",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket_options": [],
            "description": "",
            "filter": "labels.k8s-pod/app=\"flux\" textPayload=~\"Error.*\"",
            "id": "flux",
            "label_extractors": {},
            "metric_descriptor": [
              {
                "display_name": "flux-errors",
                "labels": [],
                "metric_kind": "DELTA",
                "unit": "1",
                "value_type": "INT64"
              }
            ],
            "name": "flux",
            "project": "exam-prep-285301",
            "timeouts": null,
            "value_extractor": ""
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAsImRlbGV0ZSI6MjQwMDAwMDAwMDAwLCJ1cGRhdGUiOjI0MDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_monitoring_alert_policy",
      "name": "alert_policy",
      "provider": "provider.google",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "combiner": "OR",
            "conditions": [
              {
                "condition_absent": [],
                "condition_threshold": [
                  {
                    "aggregations": [
                      {
                        "alignment_period": "60s",
                        "cross_series_reducer": "",
                        "group_by_fields": [],
                        "per_series_aligner": "ALIGN_RATE"
                      }
                    ],
                    "comparison": "COMPARISON_GT",
                    "denominator_aggregations": [],
                    "denominator_filter": "",
                    "duration": "60s",
                    "filter": "resource.type=\"k8s_container\" AND metric.type=\"logging.google.apis.com/user/flux\"",
                    "threshold_value": 0,
                    "trigger": []
                  }
                ],
                "display_name": "test condition",
                "name": "projects/exam-prep-285301/alertPolicies/11404586462598516495/conditions/11404586462598513880"
              }
            ],
            "creation_record": [
              {
                "mutate_time": "2020-08-30T23:29:21.708085572Z",
                "mutated_by": "terrariaserveram1@gmail.com"
              }
            ],
            "display_name": "My Alert Policy",
            "documentation": [],
            "enabled": true,
            "id": "projects/exam-prep-285301/alertPolicies/11404586462598516495",
            "labels": null,
            "name": "projects/exam-prep-285301/alertPolicies/11404586462598516495",
            "notification_channels": [
              "projects/exam-prep-285301/notificationChannels/5863500858156166095"
            ],
            "project": "exam-prep-285301",
            "timeouts": null,
            "user_labels": {}
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAsImRlbGV0ZSI6MjQwMDAwMDAwMDAwLCJ1cGRhdGUiOjI0MDAwMDAwMDAwMH19",
          "dependencies": [
            "google_cloudfunctions_function.cloud_function",
            "google_logging_metric.logging_metric",
            "google_monitoring_notification_channel.basic"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_monitoring_notification_channel",
      "name": "basic",
      "provider": "provider.google",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "",
            "display_name": "Test Notification Channel",
            "enabled": true,
            "id": "projects/exam-prep-285301/notificationChannels/5863500858156166095",
            "labels": {
              "resolve_delivery_enabled": "true",
              "url": "https://us-central1-exam-prep-285301.cloudfunctions.net/flux-errors"
            },
            "name": "projects/exam-prep-285301/notificationChannels/5863500858156166095",
            "project": "exam-prep-285301",
            "timeouts": null,
            "type": "webhook_tokenauth",
            "user_labels": {},
            "verification_status": ""
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAsImRlbGV0ZSI6MjQwMDAwMDAwMDAwLCJ1cGRhdGUiOjI0MDAwMDAwMDAwMH19",
          "dependencies": [
            "google_cloudfunctions_function.cloud_function"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_storage_bucket",
      "name": "cf_bucket",
      "provider": "provider.google",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket_policy_only": true,
            "cors": [],
            "encryption": [],
            "force_destroy": false,
            "id": "flux-errors_bu",
            "labels": {},
            "lifecycle_rule": [],
            "location": "US",
            "logging": [],
            "name": "flux-errors_bu",
            "predefined_acl": null,
            "project": "exam-prep-285301",
            "requester_pays": false,
            "retention_policy": [],
            "self_link": "https://www.googleapis.com/storage/v1/b/flux-errors_bu",
            "storage_class": "STANDARD",
            "url": "gs://flux-errors_bu",
            "versioning": [],
            "website": []
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_storage_bucket_object",
      "name": "archive",
      "provider": "provider.google",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket": "flux-errors_bu",
            "cache_control": "",
            "content": null,
            "content_disposition": "",
            "content_encoding": "",
            "content_language": "",
            "content_type": "application/zip",
            "crc32c": "hpHtiQ==",
            "detect_md5hash": "VQqr8poUxm7Y8tIuIPklPA==",
            "id": "flux-errors_bu-flux-errors/index.zip",
            "md5hash": "VQqr8poUxm7Y8tIuIPklPA==",
            "name": "flux-errors/index.zip",
            "output_name": "flux-errors/index.zip",
            "predefined_acl": null,
            "self_link": "https://www.googleapis.com/storage/v1/b/flux-errors_bu/o/flux-errors%2Findex.zip",
            "source": "./files/index.zip",
            "storage_class": "STANDARD"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "google_storage_bucket.cf_bucket"
          ]
        }
      ]
    }
  ]
}
